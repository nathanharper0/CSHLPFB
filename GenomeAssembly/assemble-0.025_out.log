-- canu 2.2
--
-- CITATIONS
--
-- For 'standard' assemblies of PacBio or Nanopore reads:
--   Koren S, Walenz BP, Berlin K, Miller JR, Phillippy AM.
--   Canu: scalable and accurate long-read assembly via adaptive k-mer weighting and repeat separation.
--   Genome Res. 2017 May;27(5):722-736.
--   http://doi.org/10.1101/gr.215087.116
-- 
-- Read and contig alignments during correction and consensus use:
--   Šošic M, Šikic M.
--   Edlib: a C/C ++ library for fast, exact sequence alignment using edit distance.
--   Bioinformatics. 2017 May 1;33(9):1394-1395.
--   http://doi.org/10.1093/bioinformatics/btw753
-- 
-- Overlaps are generated using:
--   Berlin K, et al.
--   Assembling large genomes with single-molecule sequencing and locality-sensitive hashing.
--   Nat Biotechnol. 2015 Jun;33(6):623-30.
--   http://doi.org/10.1038/nbt.3238
-- 
--   Myers EW, et al.
--   A Whole-Genome Assembly of Drosophila.
--   Science. 2000 Mar 24;287(5461):2196-204.
--   http://doi.org/10.1126/science.287.5461.2196
-- 
-- Corrected read consensus sequences are generated using an algorithm derived from FALCON-sense:
--   Chin CS, et al.
--   Phased diploid genome assembly with single-molecule real-time sequencing.
--   Nat Methods. 2016 Dec;13(12):1050-1054.
--   http://doi.org/10.1038/nmeth.4035
-- 
-- Contig consensus sequences are generated using an algorithm derived from pbdagcon:
--   Chin CS, et al.
--   Nonhybrid, finished microbial genome assemblies from long-read SMRT sequencing data.
--   Nat Methods. 2013 Jun;10(6):563-9
--   http://doi.org/10.1038/nmeth.2474
-- 
-- CONFIGURE CANU
--
-- Detected Java(TM) Runtime Environment '22.0.2' (from 'java') without -d64 support.
--
-- WARNING:
-- WARNING:  Failed to run gnuplot using command 'gnuplot'.
-- WARNING:  Plots will be disabled.
-- WARNING:
--
--
-- Detected 6 CPUs and 16 gigabytes of memory on the local machine.
--
-- Local machine mode enabled; grid support not detected or not allowed.
--
--                                (tag)Concurrency
--                         (tag)Threads          |
--                (tag)Memory         |          |
--        (tag)             |         |          |       total usage      algorithm
--        -------  ----------  --------   --------  --------------------  -----------------------------
-- Local: meryl      8.000 GB    3 CPUs x   2 jobs    16.000 GB   6 CPUs  (k-mer counting)
-- Local: hap        8.000 GB    3 CPUs x   2 jobs    16.000 GB   6 CPUs  (read-to-haplotype assignment)
-- Local: cormhap    6.000 GB    6 CPUs x   1 job      6.000 GB   6 CPUs  (overlap detection with mhap)
-- Local: obtovl     4.000 GB    6 CPUs x   1 job      4.000 GB   6 CPUs  (overlap detection)
-- Local: utgovl     4.000 GB    6 CPUs x   1 job      4.000 GB   6 CPUs  (overlap detection)
-- Local: cor        -.--- GB    4 CPUs x   - jobs     -.--- GB   - CPUs  (read correction)
-- Local: ovb        4.000 GB    1 CPU  x   4 jobs    16.000 GB   4 CPUs  (overlap store bucketizer)
-- Local: ovs        8.000 GB    1 CPU  x   2 jobs    16.000 GB   2 CPUs  (overlap store sorting)
-- Local: red        8.000 GB    3 CPUs x   2 jobs    16.000 GB   6 CPUs  (read error detection)
-- Local: oea        8.000 GB    1 CPU  x   2 jobs    16.000 GB   2 CPUs  (overlap error adjustment)
-- Local: bat       16.000 GB    4 CPUs x   1 job     16.000 GB   4 CPUs  (contig construction with bogart)
-- Local: cns        -.--- GB    4 CPUs x   - jobs     -.--- GB   - CPUs  (consensus)
--
-- Found trimmed corrected PacBio CLR reads in the input files.
--
-- Generating assembly 'ecoli' in '/Users/pfb2024/PFB_problemsets/GenomeAssembly/manualruns/assemble0.025err':
--   genomeSize:
--     4800000
--
--   Overlap Generation Limits:
--     corOvlErrorRate 0.2400 ( 24.00%)
--     obtOvlErrorRate 0.0250 (  2.50%)
--     utgOvlErrorRate 0.0250 (  2.50%)
--
--   Overlap Processing Limits:
--     corErrorRate    0.2500 ( 25.00%)
--     obtErrorRate    0.0250 (  2.50%)
--     utgErrorRate    0.0250 (  2.50%)
--     cnsErrorRate    0.0250 (  2.50%)
--
--   Stages to run:
--     assemble corrected and trimmed reads.
--
--
-- Correction skipped; not enabled.
--
-- Trimming skipped; not enabled.
--
-- BEGIN ASSEMBLY
----------------------------------------
-- Starting command on Wed Oct 23 16:51:58 2024 with 873.869 GB free disk space

    cd .
    ./ecoli.seqStore.sh \
    > ./ecoli.seqStore.err 2>&1

-- Finished on Wed Oct 23 16:52:00 2024 (2 seconds) with 873.845 GB free disk space
----------------------------------------
--
-- In sequence store './ecoli.seqStore':
--   Found 10222 reads.
--   Found 88900934 bases (18.52 times coverage).
--    Histogram of corrected reads:
--    
--    G=88900934                         sum of  ||               length     num
--    NG         length     index       lengths  ||                range    seqs
--    ----- ------------ --------- ------------  ||  ------------------- -------
--    00010        21670       357      8910659  ||       1000-1774          914|---------------------------------------------------------------
--    00020        19049       798     17794436  ||       1775-2549          924|---------------------------------------------------------------
--    00030        17090      1292     26687177  ||       2550-3324          725|--------------------------------------------------
--    00040        15090      1845     35560410  ||       3325-4099          610|------------------------------------------
--    00050        13126      2477     44454551  ||       4100-4874          535|-------------------------------------
--    00060        11032      3216     53349660  ||       4875-5649          493|----------------------------------
--    00070         9086      4101     62238576  ||       5650-6424          458|--------------------------------
--    00080         7048      5208     71124238  ||       6425-7199          438|------------------------------
--    00090         4532      6755     80011052  ||       7200-7974          460|--------------------------------
--    00100         1000     10221     88900934  ||       7975-8749          394|---------------------------
--    001.000x               10222     88900934  ||       8750-9524          374|--------------------------
--                                               ||       9525-10299         355|-------------------------
--                                               ||      10300-11074         346|------------------------
--                                               ||      11075-11849         302|---------------------
--                                               ||      11850-12624         257|------------------
--                                               ||      12625-13399         266|-------------------
--                                               ||      13400-14174         246|-----------------
--                                               ||      14175-14949         230|----------------
--                                               ||      14950-15724         240|-----------------
--                                               ||      15725-16499         209|---------------
--                                               ||      16500-17274         205|--------------
--                                               ||      17275-18049         226|----------------
--                                               ||      18050-18824         164|------------
--                                               ||      18825-19599         197|--------------
--                                               ||      19600-20374         133|----------
--                                               ||      20375-21149         110|--------
--                                               ||      21150-21924          77|------
--                                               ||      21925-22699          68|-----
--                                               ||      22700-23474          57|----
--                                               ||      23475-24249          44|---
--                                               ||      24250-25024          35|---
--                                               ||      25025-25799          29|--
--                                               ||      25800-26574          27|--
--                                               ||      26575-27349          21|--
--                                               ||      27350-28124           9|-
--                                               ||      28125-28899           7|-
--                                               ||      28900-29674           8|-
--                                               ||      29675-30449           3|-
--                                               ||      30450-31224           8|-
--                                               ||      31225-31999           2|-
--                                               ||      32000-32774           5|-
--                                               ||      32775-33549           2|-
--                                               ||      33550-34324           3|-
--                                               ||      34325-35099           3|-
--                                               ||      35100-35874           0|
--                                               ||      35875-36649           1|-
--                                               ||      36650-37424           0|
--                                               ||      37425-38199           0|
--                                               ||      38200-38974           1|-
--                                               ||      38975-39749           1|-
--    
--
-- In sequence store './ecoli.seqStore':
--   Found 10222 reads.
--   Found 88900934 bases (18.52 times coverage).
--    Histogram of corrected-trimmed reads:
--    
--    G=88900934                         sum of  ||               length     num
--    NG         length     index       lengths  ||                range    seqs
--    ----- ------------ --------- ------------  ||  ------------------- -------
--    00010        21670       357      8910659  ||       1000-1774          914|---------------------------------------------------------------
--    00020        19049       798     17794436  ||       1775-2549          924|---------------------------------------------------------------
--    00030        17090      1292     26687177  ||       2550-3324          725|--------------------------------------------------
--    00040        15090      1845     35560410  ||       3325-4099          610|------------------------------------------
--    00050        13126      2477     44454551  ||       4100-4874          535|-------------------------------------
--    00060        11032      3216     53349660  ||       4875-5649          493|----------------------------------
--    00070         9086      4101     62238576  ||       5650-6424          458|--------------------------------
--    00080         7048      5208     71124238  ||       6425-7199          438|------------------------------
--    00090         4532      6755     80011052  ||       7200-7974          460|--------------------------------
--    00100         1000     10221     88900934  ||       7975-8749          394|---------------------------
--    001.000x               10222     88900934  ||       8750-9524          374|--------------------------
--                                               ||       9525-10299         355|-------------------------
--                                               ||      10300-11074         346|------------------------
--                                               ||      11075-11849         302|---------------------
--                                               ||      11850-12624         257|------------------
--                                               ||      12625-13399         266|-------------------
--                                               ||      13400-14174         246|-----------------
--                                               ||      14175-14949         230|----------------
--                                               ||      14950-15724         240|-----------------
--                                               ||      15725-16499         209|---------------
--                                               ||      16500-17274         205|--------------
--                                               ||      17275-18049         226|----------------
--                                               ||      18050-18824         164|------------
--                                               ||      18825-19599         197|--------------
--                                               ||      19600-20374         133|----------
--                                               ||      20375-21149         110|--------
--                                               ||      21150-21924          77|------
--                                               ||      21925-22699          68|-----
--                                               ||      22700-23474          57|----
--                                               ||      23475-24249          44|---
--                                               ||      24250-25024          35|---
--                                               ||      25025-25799          29|--
--                                               ||      25800-26574          27|--
--                                               ||      26575-27349          21|--
--                                               ||      27350-28124           9|-
--                                               ||      28125-28899           7|-
--                                               ||      28900-29674           8|-
--                                               ||      29675-30449           3|-
--                                               ||      30450-31224           8|-
--                                               ||      31225-31999           2|-
--                                               ||      32000-32774           5|-
--                                               ||      32775-33549           2|-
--                                               ||      33550-34324           3|-
--                                               ||      34325-35099           3|-
--                                               ||      35100-35874           0|
--                                               ||      35875-36649           1|-
--                                               ||      36650-37424           0|
--                                               ||      37425-38199           0|
--                                               ||      38200-38974           1|-
--                                               ||      38975-39749           1|-
--    
----------------------------------------
-- Starting command on Wed Oct 23 16:52:00 2024 with 873.845 GB free disk space

    cd unitigging/0-mercounts
    ./meryl-configure.sh \
    > ./meryl-configure.err 2>&1

-- Finished on Wed Oct 23 16:52:00 2024 (fast as lightning) with 873.845 GB free disk space
----------------------------------------
--  segments   memory batches
--  -------- -------- -------
--        01  0.36 GB       2
--
--  For 10222 reads with 88900934 bases, limit to 1 batch.
--  Will count kmers using 01 jobs, each using 2 GB and 3 threads.
--
-- Finished stage 'merylConfigure', reset canuIteration.
--
-- Running jobs.  First attempt out of 2.
----------------------------------------
-- Starting 'meryl' concurrent execution on Wed Oct 23 16:52:00 2024 with 873.845 GB free disk space (1 processes; 2 concurrently)

    cd unitigging/0-mercounts
    ./meryl-count.sh 1 > ./meryl-count.000001.out 2>&1

-- Finished on Wed Oct 23 16:52:10 2024 (10 seconds) with 873.777 GB free disk space
----------------------------------------
-- Found 1 Kmer counting (meryl) outputs.
-- Finished stage 'utg-merylCountCheck', reset canuIteration.
--
-- Running jobs.  First attempt out of 2.
----------------------------------------
-- Starting 'meryl' concurrent execution on Wed Oct 23 16:52:10 2024 with 873.777 GB free disk space (1 processes; 2 concurrently)

    cd unitigging/0-mercounts
    ./meryl-process.sh 1 > ./meryl-process.000001.out 2>&1

-- Finished on Wed Oct 23 16:52:12 2024 (2 seconds) with 873.809 GB free disk space
----------------------------------------
-- Meryl finished successfully.  Kmer frequency histogram:
--
-- WARNING: gnuplot failed.
--
----------------------------------------
--
--  22-mers                                                                                           Fraction
--    Occurrences   NumMers                                                                         Unique Total
--       1-     1         0                                                                        0.0000 0.0000
--       2-     2    464204 *****************                                                      0.0853 0.0109
--       3-     4    300744 ***********                                                            0.1202 0.0176
--       5-     7    225812 ********                                                               0.1556 0.0276
--       8-    11    455481 *****************                                                      0.1972 0.0464
--      12-    16   1299121 ************************************************                       0.2987 0.1161
--      17-    22   1856950 ********************************************************************** 0.5678 0.3776
--      23-    29    739149 ***************************                                            0.8829 0.7853
--      30-    37     74012 **                                                                     0.9852 0.9539
--      38-    46      9411                                                                        0.9948 0.9742
--      47-    56      5218                                                                        0.9965 0.9787
--      57-    67      3152                                                                        0.9973 0.9814
--      68-    79      1868                                                                        0.9978 0.9836
--      80-    92      2275                                                                        0.9982 0.9852
--      93-   106      3145                                                                        0.9986 0.9876
--     107-   121      1395                                                                        0.9992 0.9912
--     122-   137       651                                                                        0.9994 0.9930
--     138-   154       758                                                                        0.9995 0.9940
--     155-   172       452                                                                        0.9997 0.9953
--     173-   191       158                                                                        0.9998 0.9961
--     192-   211       193                                                                        0.9998 0.9964
--     212-   232       566                                                                        0.9998 0.9969
--     233-   254       309                                                                        0.9999 0.9984
--     255-   277        66                                                                        1.0000 0.9993
--     278-   301         4                                                                        1.0000 0.9995
--     302-   326         5                                                                        1.0000 0.9995
--     327-   352         1                                                                        1.0000 0.9995
--     353-   379         2                                                                        1.0000 0.9995
--     380-   407         1                                                                        1.0000 0.9995
--     408-   436         2                                                                        1.0000 0.9995
--     437-   466         4                                                                        1.0000 0.9995
--     467-   497         1                                                                        1.0000 0.9995
--     498-   529         5                                                                        1.0000 0.9995
--     530-   562         1                                                                        1.0000 0.9996
--     563-   596         1                                                                        1.0000 0.9996
--     597-   631         0                                                                        0.0000 0.0000
--     632-   667         4                                                                        1.0000 0.9996
--     668-   704         1                                                                        1.0000 0.9996
--     705-   742         2                                                                        1.0000 0.9996
--     743-   781         4                                                                        1.0000 0.9996
--
--           0 (max occurrences)
--    85128767 (total mers, non-unique)
--     5445155 (distinct mers, non-unique)
--           0 (unique mers)
-- Finished stage 'meryl-process', reset canuIteration.
--
-- Removing meryl database 'unitigging/0-mercounts/ecoli.ms22'.
--
-- OVERLAPPER (normal) (assembly) erate=0.025
--
----------------------------------------
-- Starting command on Wed Oct 23 16:52:12 2024 with 873.844 GB free disk space

    cd unitigging/1-overlapper
    /Users/pfb2024/PFB_problemsets/GenomeAssembly/canu-2.2/bin/overlapInCorePartition \
     -S  ../../ecoli.seqStore \
     -hl 80000000 \
     -rl 1000000000 \
     -ol 500 \
     -o  ./ecoli.partition \
    > ./ecoli.partition.err 2>&1

-- Finished on Wed Oct 23 16:52:12 2024 (lickety-split) with 873.845 GB free disk space
----------------------------------------
--
-- Configured 2 overlapInCore jobs.
-- Finished stage 'utg-overlapConfigure', reset canuIteration.
--
-- Running jobs.  First attempt out of 2.
----------------------------------------
-- Starting 'utgovl' concurrent execution on Wed Oct 23 16:52:12 2024 with 873.845 GB free disk space (2 processes; 1 concurrently)

    cd unitigging/1-overlapper
    ./overlap.sh 1 > ./overlap.000001.out 2>&1
    ./overlap.sh 2 > ./overlap.000002.out 2>&1

-- Finished on Wed Oct 23 16:53:21 2024 (69 seconds) with 873.805 GB free disk space
----------------------------------------
-- Found 2 overlapInCore output files.
--
-- overlapInCore compute 'unitigging/1-overlapper':
--   kmer hits
--     with no overlap           641291    320645.5 +- 274134.692
--     with an overlap           178354       89177 +- 78461.982
--
--   overlaps                    178354       89177 +- 78461.982
--     contained                  76878       38439 +- 34171.642
--     dovetail                  101476       50738 +- 44290.34
--
--   overlaps rejected
--     multiple per pair              0           0 +- 0
--     bad short window               0           0 +- 0
--     bad long window                0           0 +- 0
-- Finished stage 'utg-overlapCheck', reset canuIteration.
----------------------------------------
-- Starting command on Wed Oct 23 16:53:21 2024 with 873.804 GB free disk space

    cd unitigging
    /Users/pfb2024/PFB_problemsets/GenomeAssembly/canu-2.2/bin/ovStoreConfig \
     -S ../ecoli.seqStore \
     -M 4-8 \
     -L ./1-overlapper/ovljob.files \
     -create ./ecoli.ovlStore.config \
     > ./ecoli.ovlStore.config.txt \
    2> ./ecoli.ovlStore.config.err

-- Finished on Wed Oct 23 16:53:21 2024 (like a bat out of hell) with 873.804 GB free disk space
----------------------------------------
--
-- Creating overlap store unitigging/ecoli.ovlStore using:
--      2 buckets
--      2 slices
--        using at most 1 GB memory each
-- Finished stage 'utg-overlapStoreConfigure', reset canuIteration.
--
-- Running jobs.  First attempt out of 2.
----------------------------------------
-- Starting 'ovB' concurrent execution on Wed Oct 23 16:53:21 2024 with 873.804 GB free disk space (2 processes; 4 concurrently)

    cd unitigging/ecoli.ovlStore.BUILDING
    ./scripts/1-bucketize.sh 1 > ./logs/1-bucketize.000001.out 2>&1
    ./scripts/1-bucketize.sh 2 > ./logs/1-bucketize.000002.out 2>&1

-- Finished on Wed Oct 23 16:53:22 2024 (one second) with 873.798 GB free disk space
----------------------------------------
-- Overlap store bucketizer finished.
-- Finished stage 'utg-overlapStoreBucketizerCheck', reset canuIteration.
--
-- Running jobs.  First attempt out of 2.
----------------------------------------
-- Starting 'ovS' concurrent execution on Wed Oct 23 16:53:22 2024 with 873.798 GB free disk space (2 processes; 2 concurrently)

    cd unitigging/ecoli.ovlStore.BUILDING
    ./scripts/2-sort.sh 1 > ./logs/2-sort.000001.out 2>&1
    ./scripts/2-sort.sh 2 > ./logs/2-sort.000002.out 2>&1

-- Finished on Wed Oct 23 16:53:23 2024 (one second) with 873.797 GB free disk space
----------------------------------------
-- Overlap store sorter finished.
-- Finished stage 'utg-overlapStoreSorterCheck', reset canuIteration.
----------------------------------------
-- Starting command on Wed Oct 23 16:53:23 2024 with 873.797 GB free disk space

    cd unitigging
    /Users/pfb2024/PFB_problemsets/GenomeAssembly/canu-2.2/bin/ovStoreIndexer \
      -O  ./ecoli.ovlStore.BUILDING \
      -S ../ecoli.seqStore \
      -C  ./ecoli.ovlStore.config \
      -delete \
    > ./ecoli.ovlStore.BUILDING.index.err 2>&1

-- Finished on Wed Oct 23 16:53:23 2024 (like a bat out of hell) with 873.797 GB free disk space
----------------------------------------
-- Overlap store indexer finished.
-- Checking store.
----------------------------------------
-- Starting command on Wed Oct 23 16:53:23 2024 with 873.797 GB free disk space

    cd unitigging
    /Users/pfb2024/PFB_problemsets/GenomeAssembly/canu-2.2/bin/ovStoreDump \
     -S ../ecoli.seqStore \
     -O  ./ecoli.ovlStore \
     -counts \
     > ./ecoli.ovlStore/counts.dat 2> ./ecoli.ovlStore/counts.err

-- Finished on Wed Oct 23 16:53:23 2024 (furiously fast) with 873.797 GB free disk space
----------------------------------------
--
-- Overlap store 'unitigging/ecoli.ovlStore' successfully constructed.
-- Found 356708 overlaps for 10157 reads; 65 reads have no overlaps.
--
--
-- Purged 0.003 GB in 6 overlap output files.
----------------------------------------
-- Starting command on Wed Oct 23 16:53:23 2024 with 873.801 GB free disk space

    cd unitigging
    /Users/pfb2024/PFB_problemsets/GenomeAssembly/canu-2.2/bin/ovStoreStats \
     -C 18.52 \
     -S ../ecoli.seqStore \
     -O  ./ecoli.ovlStore \
     -o  ./ecoli.ovlStore \
     > ./ecoli.ovlStore.summary.err 2>&1

-- Finished on Wed Oct 23 16:53:23 2024 (in the blink of an eye) with 873.801 GB free disk space
----------------------------------------
--
-- Overlap store 'unitigging/ecoli.ovlStore' contains:
--
--   category            reads     %          read length        feature size or coverage  analysis
--   ----------------  -------  -------  ----------------------  ------------------------  --------------------
--   middle-missing          7    0.07     4483.00 +- 3017.26       1357.14 +- 1080.76    (bad trimming)
--   middle-hump             2    0.02     8649.50 +- 3386.33       5932.00 +- 1460.88    (bad trimming)
--   no-5-prime             42    0.41     3543.40 +- 2722.40       1775.79 +- 1375.36    (bad trimming)
--   no-3-prime             29    0.28     3934.79 +- 3621.83       1673.76 +- 1392.36    (bad trimming)
--   
--   low-coverage           61    0.60     2453.97 +- 1720.93          3.36 +- 1.63       (easy to assemble, potential for lower quality consensus)
--   unique               8808   86.17     8422.66 +- 6118.89         18.50 +- 4.20       (easy to assemble, perfect, yay)
--   repeat-cont            32    0.31     1925.44 +- 1001.87         54.24 +- 25.18      (potential for consensus errors, no impact on assembly)
--   repeat-dove             0    0.00        0.00 +- 0.00             0.00 +- 0.00       (hard to assemble, likely won't assemble correctly or even at all)
--   
--   span-repeat           793    7.76    12972.07 +- 6764.96       2362.91 +- 2780.56    (read spans a large repeat, usually easy to assemble)
--   uniq-repeat-cont      327    3.20     8389.08 +- 5101.03                             (should be uniquely placed, low potential for consensus errors, no impact on assembly)
--   uniq-repeat-dove       54    0.53    18976.67 +- 4131.54                             (will end contigs, potential to misassemble)
--   uniq-anchor             2    0.02     5671.50 +- 959.54        1867.50 +- 559.32     (repeat read, with unique section, probable bad read)
-- Finished stage 'utg-createOverlapStore', reset canuIteration.
--
-- Loading read lengths.
-- Loading number of overlaps per read.
--
-- Configure RED for 8gb memory.
--                   Batches of at most (unlimited) reads.
--                                      500000000 bases.
--                   Expecting evidence of at most 536870912 bases per iteration.
--
--           Total                                               Reads                 Olaps Evidence
--    Job   Memory      Read Range         Reads        Bases   Memory        Olaps   Memory   Memory  (Memory in MB)
--   ---- -------- ------------------- --------- ------------ -------- ------------ -------- --------
--      1  8192.77         1-4876           4876     41932137  5118.82       169743     1.94  1024.00
--      2  8193.08      4877-9634           4758     41935035  5119.17       166638     1.91  1024.00
--      3  3686.72      9635-10222           588      5033762   614.49        20327     0.23  1024.00
--   ---- -------- ------------------- --------- ------------ -------- ------------ -------- --------
--                                                   88900934                356708
-- Finished stage 'readErrorDetectionConfigure', reset canuIteration.
--
-- Running jobs.  First attempt out of 2.
----------------------------------------
-- Starting 'red' concurrent execution on Wed Oct 23 16:53:23 2024 with 873.801 GB free disk space (3 processes; 2 concurrently)

    cd unitigging/3-overlapErrorAdjustment
    ./red.sh 1 > ./red.000001.out 2>&1
    ./red.sh 2 > ./red.000002.out 2>&1
    ./red.sh 3 > ./red.000003.out 2>&1

-- Finished on Wed Oct 23 16:53:37 2024 (14 seconds) with 873.799 GB free disk space
----------------------------------------
-- Found 3 read error detection output files.
-- Finished stage 'readErrorDetectionCheck', reset canuIteration.
--
-- Loading read lengths.
-- Loading number of overlaps per read.
--
-- Configure OEA for 8gb memory.
--                   Batches of at most (unlimited) reads.
--                                      300000000 bases.
--
--           Total                                               Reads                 Olaps  Adjusts
--    Job   Memory      Read Range         Reads        Bases   Memory        Olaps   Memory   Memory  (Memory in MB)
--   ---- -------- ------------------- --------- ------------ -------- ------------ -------- --------
--      1  2477.90         1-10222         10222     88900934    93.09       356708    10.89   325.92
--   ---- -------- ------------------- --------- ------------ -------- ------------ -------- --------
--                                                   88900934                356708
-- Finished stage 'overlapErrorAdjustmentConfigure', reset canuIteration.
--
-- Running jobs.  First attempt out of 2.
----------------------------------------
-- Starting 'oea' concurrent execution on Wed Oct 23 16:53:37 2024 with 873.799 GB free disk space (1 processes; 2 concurrently)

    cd unitigging/3-overlapErrorAdjustment
    ./oea.sh 1 > ./oea.000001.out 2>&1

-- Finished on Wed Oct 23 16:53:42 2024 (5 seconds) with 873.798 GB free disk space
----------------------------------------
-- Found 1 overlap error adjustment output files.
-- Finished stage 'overlapErrorAdjustmentCheck', reset canuIteration.
----------------------------------------
-- Starting command on Wed Oct 23 16:53:42 2024 with 873.798 GB free disk space

    cd unitigging/3-overlapErrorAdjustment
    /Users/pfb2024/PFB_problemsets/GenomeAssembly/canu-2.2/bin/loadErates \
      -S ../../ecoli.seqStore \
      -O ../ecoli.ovlStore \
      -L ./oea.files \
    > ./oea.apply.err 2>&1

-- Finished on Wed Oct 23 16:53:42 2024 (in the blink of an eye) with 873.797 GB free disk space
----------------------------------------
-- No report available.
-- Finished stage 'updateOverlapStore', reset canuIteration.
-- Finished stage 'unitig', reset canuIteration.
--
-- Running jobs.  First attempt out of 2.
----------------------------------------
-- Starting 'bat' concurrent execution on Wed Oct 23 16:53:42 2024 with 873.797 GB free disk space (1 processes; 1 concurrently)

    cd unitigging/4-unitigger
    ./unitigger.sh 1 > ./unitigger.000001.out 2>&1

-- Finished on Wed Oct 23 16:53:43 2024 (one second) with 873.796 GB free disk space
----------------------------------------
-- Unitigger finished successfully.
--  
--  ERROR RATES
--  -----------
--                                                   --------threshold------
--  11241                        fraction error      fraction        percent
--  samples                              (1e-5)         error          error
--                   --------------------------      --------       --------
--  command line (-eg)                           ->   2500.00        2.5000%
--  command line (-ef)                           ->  -----.--      ---.----%
--  command line (-eM)                           ->   2500.00        2.5000%
--  mean + std.dev     109.53 +-  12 *   166.87  ->   2111.91        2.1119%
--  median + mad        81.00 +-  12 *    81.00  ->   1522.09        1.5221%  (enabled)
--  90th percentile                              ->    247.00        0.2470%
--  
--  BEST EDGE FILTERING
--  -------------------
--  At graph threshold 2.5000%, reads:
--    available to have edges:         1233
--    with at least one edge:          1110
--  
--  At max threshold 2.5000%, reads:  (not computed)
--    available to have edges:            0
--    with at least one edge:             0
--  
--  At tight threshold 1.5221%, reads with:
--    both edges below error threshold:      1100  (80.00% minReadsBest threshold = 888)
--    one  edge  above error threshold:        10
--    both edges above error threshold:         0
--    at least one edge:                     1110
--  
--  At loose threshold 2.1119%, reads with:
--    both edges below error threshold:      1105  (80.00% minReadsBest threshold = 888)
--    one  edge  above error threshold:         5
--    both edges above error threshold:         0
--    at least one edge:                     1110
--  
--  
--  INITIAL EDGES
--  -------- ----------------------------------------
--      8935 reads are contained
--       201 reads have no best edges (singleton)
--         0 reads have only one best edge (spur) 
--                  0 are mutual best
--      1086 reads have two best edges 
--                  2 have one mutual best edge
--               1084 have two mutual best edges
--  
--  
--  FINAL EDGES
--  -------- ----------------------------------------
--      8935 reads are contained
--       201 reads have no best edges (singleton)
--         0 reads have only one best edge (spur) 
--                  0 are mutual best
--      1086 reads have two best edges 
--                  2 have one mutual best edge
--               1084 have two mutual best edges
--  
--  
--  EDGE FILTERING
--  -------- ------------------------------------------
--         0 reads are ignored
--        98 reads have a gap in overlap coverage
--         0 reads have lopsided best edges
-- Found, in version 1, after unitig construction:
--   contigs:      1 sequences, total length 4678513 bp (including 0 repeats of total length 0 bp).
--   bubbles:      0 sequences, total length 0 bp.
--   unassembled:  199 sequences, total length 642594 bp.
--
-- Contig sizes based on genome size 4.8mbp:
--
--            NG (bp)  LG (contigs)    sum (bp)
--         ----------  ------------  ----------
--     10     4678513             1     4678513
--     20     4678513             1     4678513
--     30     4678513             1     4678513
--     40     4678513             1     4678513
--     50     4678513             1     4678513
--     60     4678513             1     4678513
--     70     4678513             1     4678513
--     80     4678513             1     4678513
--     90     4678513             1     4678513
--
-- Finished stage 'unitigCheck', reset canuIteration.
----------------------------------------
-- Starting command on Wed Oct 23 16:53:43 2024 with 873.796 GB free disk space

    cd unitigging
    /Users/pfb2024/PFB_problemsets/GenomeAssembly/canu-2.2/bin/utgcns \
      -S ../ecoli.seqStore \
      -T  ./ecoli.ctgStore 1 \
      -partition 0.8 1 0.1 \
    > ./ecoli.ctgStore/partitioning.log 2>&1

-- Finished on Wed Oct 23 16:53:43 2024 (lickety-split) with 873.773 GB free disk space
----------------------------------------
-- Using slow alignment for consensus (iteration '0').
-- Configured 2 consensus jobs.
-- Finished stage 'consensusConfigure', reset canuIteration.
--
-- Local: cns        4.875 GB    4 CPUs x   1 job      4.875 GB   4 CPUs  (consensus)
--
--
-- Running jobs.  First attempt out of 2.
----------------------------------------
-- Starting 'cns' concurrent execution on Wed Oct 23 16:53:43 2024 with 873.773 GB free disk space (2 processes; 1 concurrently)

    cd unitigging/5-consensus
    ./consensus.sh 1 > ./consensus.000001.out 2>&1
    ./consensus.sh 2 > ./consensus.000002.out 2>&1

-- Finished on Wed Oct 23 16:54:57 2024 (74 seconds) with 873.712 GB free disk space
----------------------------------------
-- Using slow alignment for consensus (iteration '1').
-- Configured 2 consensus jobs.
-- All 2 consensus jobs finished successfully.
-- Finished stage 'consensusCheck', reset canuIteration.
-- Using slow alignment for consensus (iteration '0').
-- Configured 2 consensus jobs.
----------------------------------------
-- Starting command on Wed Oct 23 16:54:57 2024 with 873.712 GB free disk space

    cd unitigging
    /Users/pfb2024/PFB_problemsets/GenomeAssembly/canu-2.2/bin/tgStoreLoad \
      -S ../ecoli.seqStore \
      -T  ./ecoli.ctgStore 2 \
      -L ./5-consensus/ctgcns.files \
    > ./5-consensus/ctgcns.files.ctgStoreLoad.err 2>&1

-- Finished on Wed Oct 23 16:54:57 2024 (like a bat out of hell) with 873.701 GB free disk space
----------------------------------------
-- Purging consensus output after loading to ctgStore.
-- Purged 2 .cns outputs.
----------------------------------------
-- Starting command on Wed Oct 23 16:54:57 2024 with 873.712 GB free disk space

    cd unitigging
    /Users/pfb2024/PFB_problemsets/GenomeAssembly/canu-2.2/bin/tgStoreDump \
      -S ../ecoli.seqStore \
      -T ./ecoli.ctgStore 2 \
      -sizes -s 4800000 \
    > ./ecoli.ctgStore/seqDB.v002.sizes.txt

-- Finished on Wed Oct 23 16:54:58 2024 (one second) with 873.712 GB free disk space
----------------------------------------
-- Found, in version 2, after consensus generation:
--   contigs:      1 sequences, total length 4665135 bp (including 0 repeats of total length 0 bp).
--   bubbles:      0 sequences, total length 0 bp.
--   unassembled:  199 sequences, total length 642594 bp.
--
-- Contig sizes based on genome size 4.8mbp:
--
--            NG (bp)  LG (contigs)    sum (bp)
--         ----------  ------------  ----------
--     10     4665135             1     4665135
--     20     4665135             1     4665135
--     30     4665135             1     4665135
--     40     4665135             1     4665135
--     50     4665135             1     4665135
--     60     4665135             1     4665135
--     70     4665135             1     4665135
--     80     4665135             1     4665135
--     90     4665135             1     4665135
--
-- Finished stage 'consensusLoad', reset canuIteration.
----------------------------------------
-- Starting command on Wed Oct 23 16:54:58 2024 with 873.712 GB free disk space

    cd .
    /Users/pfb2024/PFB_problemsets/GenomeAssembly/canu-2.2/bin/tgStoreDump \
      -S ./ecoli.seqStore \
      -T ./unitigging/ecoli.ctgStore 2 \
      -o ./ecoli.contigs \
      -layout \
    > ./ecoli.contigs.layout.err 2>&1

-- Finished on Wed Oct 23 16:54:58 2024 (like a bat out of hell) with 873.712 GB free disk space
----------------------------------------
----------------------------------------
-- Starting command on Wed Oct 23 16:54:58 2024 with 873.712 GB free disk space

    cd .
    /Users/pfb2024/PFB_problemsets/GenomeAssembly/canu-2.2/bin/tgStoreDump \
      -S ./ecoli.seqStore \
      -T ./unitigging/ecoli.ctgStore 2 \
      -consensus -fasta \
      -unassembled \
    > ./ecoli.unassembled.fasta
    2> ./ecoli.unassembled.err

-- Finished on Wed Oct 23 16:54:59 2024 (one second) with 873.711 GB free disk space
----------------------------------------
----------------------------------------
-- Starting command on Wed Oct 23 16:54:59 2024 with 873.711 GB free disk space

    cd .
    /Users/pfb2024/PFB_problemsets/GenomeAssembly/canu-2.2/bin/tgStoreDump \
      -S ./ecoli.seqStore \
      -T ./unitigging/ecoli.ctgStore 2 \
      -consensus -fasta \
      -contigs \
    > ./ecoli.contigs.fasta
    2> ./ecoli.contigs.err

-- Finished on Wed Oct 23 16:54:59 2024 (like a bat out of hell) with 873.706 GB free disk space
----------------------------------------
-- Finished stage 'generateOutputs', reset canuIteration.
--
-- Assembly 'ecoli' finished in '/Users/pfb2024/PFB_problemsets/GenomeAssembly/manualruns/assemble0.025err'.
--
-- Summary saved in 'ecoli.report'.
--
-- Sequences saved:
--   Contigs       -> 'ecoli.contigs.fasta'
--   Unassembled   -> 'ecoli.unassembled.fasta'
--
-- Read layouts saved:
--   Contigs       -> 'ecoli.contigs.layout'.
--
-- Bye.
